import{c as $e,u as Fe,g as Oe,r as f,l as P,i as x,j as e,d as c,J as Ke,K as Qe,N as D,O as L,C as i,a as r,B as oe,e as u,f as h,b as j,I as O,m as ee,q as N,n as k}from"./index-aBzEQGYq.js";import{i as E}from"./authUtils-CcDzk6i0.js";import{A as Ye}from"./app-layout-DNSppN_P.js";import{P as se}from"./progress-XR5_hdtt.js";import{D as te,a as ze,b as ae,c as ie,d as re,e as ne}from"./dialog-23jdk0P0.js";import{u as me,F as xe,a as v,b as y,c as b,d as w,e as C,t as ue,z as p}from"./index-Bc3Dxx3z.js";import{T as K}from"./textarea-BY0bzfyA.js";import{A as S}from"./award-DPr5G0__.js";import{B as Q}from"./book-open-DvLQ89NB.js";import{T as le}from"./trophy-BMX_uPEk.js";import{F as he}from"./file-text-DGolt20j.js";import{C as de}from"./clock-Dcf5yqqC.js";import{C as je}from"./circle-check-big-DoRqGQom.js";import{S as pe}from"./star-Bqtboh28.js";import{E as ge}from"./external-link-28zrZwzD.js";import{C as fe}from"./calendar-days-4jemmO5l.js";import{U as Ne}from"./users-DQHjr_4E.js";import{T as ve}from"./target-kE2L6cy0.js";import"./avatar-B73pXDWb.js";import"./calendar-B5qd1N74.js";import"./building-DW2XR0jT.js";import"./handshake-DxRR1pa7.js";import"./credit-card-CxGwdsfA.js";import"./calculator-Ch1wpyY6.js";import"./crown-J1RsCPzy.js";import"./map-pin-D49hIz5W.js";import"./pound-sterling-DvDjXgI4.js";import"./trending-up-EJ-1Wo56.js";import"./message-square-CV5BlX6z.js";import"./shield-check-DrJu6eCf.js";import"./Combination-D-0K7YMg.js";import"./index-oqkmxxPa.js";import"./scroll-area-Dsz05QRK.js";import"./alert-dialog-CGu9Do5w.js";import"./index-r-q9YERm.js";import"./send-DOYPj-_D.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=$e("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Ie=p.object({qualificationName:p.string().min(1,"Qualification name is required"),issuingAuthority:p.string().min(1,"Issuing authority is required"),dateObtained:p.string().min(1,"Date obtained is required"),expiryDate:p.string().optional(),verificationDocuments:p.string().optional()}),Be=p.object({personalStatement:p.string().min(50,"Personal statement must be at least 50 characters"),relevantExperience:p.string().optional(),careerGoals:p.string().optional()});function Es(){const{toast:l}=Fe(),{isAuthenticated:m,isLoading:Y}=Oe(),[Ge,Re]=f.useState(null),[T,ye]=f.useState(null),[d,be]=f.useState(null),[Ve,we]=f.useState(!1),[Ce,z]=f.useState(!1),[De,$]=f.useState(!1),[Le,F]=f.useState(!1),g=me({resolver:ue(Ie),defaultValues:{qualificationName:"",issuingAuthority:"",dateObtained:"",expiryDate:"",verificationDocuments:""}}),A=me({resolver:ue(Be),defaultValues:{personalStatement:"",relevantExperience:"",careerGoals:""}}),U=P({mutationFn:async s=>(await k("POST","/api/education/qualifications",s)).json(),onSuccess:()=>{l({title:"Qualification Added",description:"Your qualification has been added successfully."}),N.invalidateQueries({queryKey:["/api/education/qualifications"]}),z(!1),g.reset()},onError:s=>{if(E(s)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}l({title:"Error",description:"Failed to add qualification. Please try again.",variant:"destructive"})}}),I=P({mutationFn:async({programmeId:s,data:t})=>(await k("POST",`/api/education/programmes/${s}/apply`,t)).json(),onSuccess:()=>{l({title:"Application Submitted",description:"Your programme application has been submitted successfully."}),N.invalidateQueries({queryKey:["/api/education/participations"]}),$(!1),A.reset()},onError:s=>{if(E(s)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}l({title:"Application Failed",description:s.message||"Failed to submit application. Please try again.",variant:"destructive"})}}),B=P({mutationFn:async s=>(await k("POST",`/api/education/pathways/${s}/enroll`,{})).json(),onSuccess:()=>{l({title:"Enrolled Successfully",description:"You have been enrolled in the learning pathway."}),N.invalidateQueries({queryKey:["/api/education/pathway-progress"]}),F(!1)},onError:s=>{if(E(s)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}l({title:"Enrollment Failed",description:s.message||"Failed to enroll in pathway. Please try again.",variant:"destructive"})}});P({mutationFn:async s=>(await k("POST",`/api/courses/${s}/complete`,{score:95})).json(),onSuccess:(s,t)=>{const o=a==null?void 0:a.find(Z=>Z.id===t);l({title:"Course Completed!",description:`You've earned ${(o==null?void 0:o.karmaReward)||0} KarmaCoins for completing "${o==null?void 0:o.title}"`}),N.invalidateQueries({queryKey:["/api/courses"]}),N.invalidateQueries({queryKey:["/api/auth/user"]}),we(!1)},onError:s=>{if(E(s)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}l({title:"Error",description:"Failed to complete course. Please try again.",variant:"destructive"})}});const G=P({mutationFn:async s=>(await k("POST",`/api/courses/${s}/enroll`,{})).json(),onSuccess:(s,t)=>{const o=a==null?void 0:a.find(Z=>Z.id===t);l({title:"Enrolled Successfully!",description:`You have been enrolled in "${o==null?void 0:o.title}"`}),N.invalidateQueries({queryKey:["/api/learning/stats"]}),N.invalidateQueries({queryKey:["/api/courses"]})},onError:s=>{if(E(s)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}l({title:"Enrollment Failed",description:"Failed to enroll in course. Please try again.",variant:"destructive"})}});P({mutationFn:async s=>(await k("POST",`/api/courses/${s}/certificate`,{})).json(),onSuccess:s=>{l({title:"Certificate Generated!",description:"Your completion certificate has been generated successfully."}),N.invalidateQueries({queryKey:["/api/certificates"]})},onError:s=>{if(E(s)){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}l({title:"Certificate Generation Failed",description:s.message||"Failed to generate certificate. Please try again.",variant:"destructive"})}}),f.useEffect(()=>{if(!Y&&!m){l({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[m,Y,l]);const{data:a,isLoading:Se}=x({queryKey:["/api/courses"],enabled:m}),{data:R,isLoading:Ae}=x({queryKey:["/api/education/qualifications"],enabled:m}),{data:V,isLoading:qe}=x({queryKey:["/api/education/programmes"],enabled:m}),{data:_,isLoading:Pe}=x({queryKey:["/api/education/pathways"],enabled:m}),{data:H,isLoading:ke}=x({queryKey:["/api/education/user-skills"],enabled:m}),{data:M,isLoading:Ee}=x({queryKey:["/api/education/development-plans"],enabled:m}),{data:W,isLoading:_e}=x({queryKey:["/api/education/participations"],enabled:m}),{data:n,isLoading:He}=x({queryKey:["/api/learning/stats"],enabled:m}),{data:J,isLoading:Me}=x({queryKey:["/api/learning/achievements"],enabled:m}),{data:q,isLoading:Te}=x({queryKey:["/api/certificates"],enabled:m});if(Y||!m)return e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});const ce=s=>{switch(s){case"beginner":return"secondary";case"intermediate":return"default";case"advanced":return"destructive";default:return"outline"}},X=s=>{switch(s){case"completed":return"default";case"in_progress":return"secondary";case"pending":return"outline";case"verified":return"default";default:return"outline"}};return e.jsx(Ye,{title:"Education & Development",breadcrumbs:[{label:"Human Resources",href:"/hr-management"},{label:"Learning"}],children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Education & Development Hub"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive learning, qualifications, and career development"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-secondary to-primary text-white px-4 py-2 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold","data-testid":"text-karma-coins",children:"2,847 KarmaCoins"})]})}),e.jsxs(c,{"data-testid":"button-my-certificates",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"My Certificates"]})]})]}),e.jsxs(Ke,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-7",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"courses",children:"Courses"}),e.jsx(D,{value:"certificates",children:"Certificates"}),e.jsx(D,{value:"qualifications",children:"Qualifications"}),e.jsx(D,{value:"programmes",children:"Government Programmes"}),e.jsx(D,{value:"pathways",children:"Learning Pathways"}),e.jsx(D,{value:"skills",children:"Skills & Development"})]}),e.jsxs(L,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:(a==null?void 0:a.length)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Courses Available"})]})]})})}),e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{className:"h-8 w-8 text-secondary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:(n==null?void 0:n.coursesCompleted)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Courses Completed"})]})]})})}),e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:(q==null?void 0:q.length)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Certificates Earned"})]})]})})}),e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:(n==null?void 0:n.totalPoints)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Learning Points"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(u,{children:e.jsx(h,{children:"Learning Progress"})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Overall Completion"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[(n==null?void 0:n.coursesCompleted)||0," of ",(a==null?void 0:a.length)||0," courses completed"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[((a==null?void 0:a.length)||0)>0?Math.round(((n==null?void 0:n.coursesCompleted)||0)/((a==null?void 0:a.length)||1)*100):0,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),e.jsx(se,{value:((a==null?void 0:a.length)||0)>0?((n==null?void 0:n.coursesCompleted)||0)/((a==null?void 0:a.length)||1)*100:0,className:"w-full"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-foreground",children:(n==null?void 0:n.totalLessonsCompleted)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lessons Completed"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold text-foreground",children:[(n==null?void 0:n.averageQuizScore)||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Quiz Score"})]})]})]})})]}),e.jsxs(i,{children:[e.jsx(u,{children:e.jsx(h,{children:"Recent Achievements"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:J&&J.length>0?J.slice(0,3).map((s,t)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"h-8 w-8 bg-secondary rounded-full flex items-center justify-center",children:e.jsx(le,{className:"h-4 w-4 text-secondary-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]}),e.jsxs(j,{variant:"secondary",className:"text-xs",children:["+",s.points," pts"]})]},t)):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(le,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"No achievements yet"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete courses to earn achievements!"})]})})})]})]})]}),e.jsx(L,{value:"courses",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Se?Array.from({length:6}).map((s,t)=>e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},t)):a&&a.length>0?a.map(s=>e.jsxs(i,{className:"hover:shadow-lg transition-shadow","data-testid":`card-course-${s.id}`,children:[e.jsx(u,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx(h,{className:"text-lg","data-testid":`text-course-title-${s.id}`,children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(j,{variant:ce(s.difficulty),"data-testid":`badge-difficulty-${s.id}`,children:s.difficulty}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(S,{className:"h-3 w-3 mr-1 text-secondary"}),e.jsxs("span",{"data-testid":`text-karma-reward-${s.id}`,children:[s.karmaReward," KC"]})]})]})]})})}),e.jsxs(r,{children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-4","data-testid":`text-course-description-${s.id}`,children:s.description}),e.jsx("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:e.jsxs("span",{"data-testid":`text-course-duration-${s.id}`,children:[e.jsx(de,{className:"h-3 w-3 mr-1 inline"}),s.duration," minutes"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{className:"w-full","data-testid":`button-start-course-${s.id}`,onClick:()=>G.mutate(s.id),disabled:G.isPending,children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),G.isPending?"Enrolling...":"Start Course"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-view-lessons-${s.id}`,children:[e.jsx(Ue,{className:"h-3 w-3 mr-1"}),"Lessons"]}),e.jsxs(c,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-view-quizzes-${s.id}`,children:[e.jsx(oe,{className:"h-3 w-3 mr-1"}),"Quizzes"]})]})]})]})]},s.id)):e.jsx("div",{className:"col-span-full",children:e.jsx(i,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Q,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No courses available"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back later for new learning opportunities"})]})})})})})}),e.jsxs(L,{value:"certificates",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Your Certificates"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(c,{variant:"outline","data-testid":"button-verify-certificate",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Verify Certificate"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Te?Array.from({length:3}).map((s,t)=>e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},t)):q&&q.length>0?q.map(s=>e.jsxs(i,{className:"hover:shadow-lg transition-shadow","data-testid":`card-certificate-${s.id}`,children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(h,{className:"text-lg","data-testid":`text-certificate-course-${s.id}`,children:"Course Certificate"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(j,{variant:"default","data-testid":`badge-certificate-status-${s.id}`,children:s.isRevoked?"Revoked":"Valid"}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(pe,{className:"h-3 w-3 mr-1 text-yellow-500"}),e.jsxs("span",{"data-testid":`text-certificate-score-${s.id}`,children:["Certificate ID: ",s.certificateNumber]})]})]})]}),e.jsx(S,{className:"h-8 w-8 text-secondary"})]})}),e.jsxs(r,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Issue Date:"}),e.jsx("span",{"data-testid":`text-certificate-date-${s.id}`,children:s.issuedAt?new Date(s.issuedAt).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Certificate ID:"}),e.jsx("span",{className:"font-mono text-xs","data-testid":`text-certificate-verification-${s.id}`,children:s.verificationCode})]}),s.validUntil&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Valid Until:"}),e.jsx("span",{"data-testid":`text-certificate-expiry-${s.id}`,children:s.validUntil?new Date(s.validUntil).toLocaleDateString():"No expiry"})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs(c,{className:"w-full",variant:"outline","data-testid":`button-download-certificate-${s.id}`,children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),e.jsxs(c,{className:"w-full",variant:"secondary","data-testid":`button-share-certificate-${s.id}`,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Share Certificate"]})]})]})]},s.id)):e.jsx("div",{className:"col-span-full",children:e.jsx(i,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No certificates yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Complete courses to earn certificates"}),e.jsxs(c,{onClick:()=>{const s=document.querySelector('[value="courses"]');s==null||s.click()},children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Browse Courses"]})]})})})})})]}),e.jsxs(L,{value:"qualifications",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Your Qualifications"}),e.jsxs(te,{open:Ce,onOpenChange:z,children:[e.jsx(ze,{asChild:!0,children:e.jsxs(c,{"data-testid":"button-add-qualification",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Add Qualification"]})}),e.jsxs(ae,{children:[e.jsxs(ie,{children:[e.jsx(re,{children:"Add Qualification"}),e.jsx(ne,{children:"Add a new qualification to your profile"})]}),e.jsx(xe,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(s=>U.mutate(s)),className:"space-y-4",children:[e.jsx(v,{control:g.control,name:"qualificationName",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Qualification Name"}),e.jsx(w,{children:e.jsx(O,{...s,placeholder:"e.g., Level 3 Certificate in Business Administration","data-testid":"input-qualification-name"})}),e.jsx(C,{})]})}),e.jsx(v,{control:g.control,name:"issuingAuthority",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Issuing Authority"}),e.jsx(w,{children:e.jsx(O,{...s,placeholder:"e.g., City & Guilds, BTEC, University","data-testid":"input-issuing-authority"})}),e.jsx(C,{})]})}),e.jsx(v,{control:g.control,name:"dateObtained",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Date Obtained"}),e.jsx(w,{children:e.jsx(O,{...s,type:"date","data-testid":"input-date-obtained"})}),e.jsx(C,{})]})}),e.jsx(v,{control:g.control,name:"expiryDate",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Expiry Date (Optional)"}),e.jsx(w,{children:e.jsx(O,{...s,type:"date","data-testid":"input-expiry-date"})}),e.jsx(C,{})]})}),e.jsx(v,{control:g.control,name:"verificationDocuments",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Verification Documents (Optional)"}),e.jsx(w,{children:e.jsx(K,{...s,placeholder:"Upload or describe verification documents","data-testid":"textarea-verification-docs"})}),e.jsx(C,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Cancel"}),e.jsx(c,{type:"submit",disabled:U.isPending,"data-testid":"button-submit-qualification",children:U.isPending?"Adding...":"Add Qualification"})]})]})})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ae?Array.from({length:4}).map((s,t)=>e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})})},t)):R&&R.length>0?R.map(s=>e.jsxs(i,{"data-testid":`card-qualification-${s.id}`,children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-lg",children:s.qualificationName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.issuingAuthority})]}),e.jsx(j,{variant:X(s.verificationStatus),children:s.verificationStatus})]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Obtained: ",new Date(s.dateObtained).toLocaleDateString()]}),s.expiryDate&&e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Expires: ",new Date(s.expiryDate).toLocaleDateString()]})]})})]},s.id)):e.jsx("div",{className:"col-span-full",children:e.jsx(i,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No qualifications added"}),e.jsx("p",{className:"text-muted-foreground",children:"Add your qualifications to showcase your expertise"})]})})})})})]}),e.jsxs(L,{value:"programmes",className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Government Training Programmes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Apprenticeships, training schemes, and funded education"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:qe?Array.from({length:6}).map((s,t)=>e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},t)):V&&V.length>0?V.map(s=>e.jsxs(i,{className:"hover:shadow-lg transition-shadow","data-testid":`card-programme-${s.id}`,children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-lg",children:s.programmeName}),e.jsx(j,{variant:"secondary",className:"mt-2",children:s.programmeType})]}),s.fundingAmount&&e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["£",s.fundingAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Funding"})]})]})}),e.jsxs(r,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Level: ",s.qualificationLevel]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Apply by: ",new Date(s.applicationDeadline).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Duration: ",s.duration," months"]})]}),e.jsxs(c,{className:"w-full mt-4",onClick:()=>{ye(s),$(!0)},"data-testid":`button-apply-programme-${s.id}`,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Apply Now"]})]})]},s.id)):e.jsx("div",{className:"col-span-full",children:e.jsx(i,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No programmes available"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back for new government training opportunities"})]})})})})}),e.jsx(te,{open:De,onOpenChange:$,children:e.jsxs(ae,{className:"max-w-2xl",children:[e.jsxs(ie,{children:[e.jsxs(re,{children:["Apply to ",T==null?void 0:T.programmeName]}),e.jsx(ne,{children:"Complete your application for this government programme"})]}),e.jsx(xe,{...A,children:e.jsxs("form",{onSubmit:A.handleSubmit(s=>{T&&I.mutate({programmeId:T.id,data:s})}),className:"space-y-4",children:[e.jsx(v,{control:A.control,name:"personalStatement",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Personal Statement"}),e.jsx(w,{children:e.jsx(K,{...s,rows:4,placeholder:"Why are you interested in this programme? What are your career goals?","data-testid":"textarea-personal-statement"})}),e.jsx(C,{})]})}),e.jsx(v,{control:A.control,name:"relevantExperience",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Relevant Experience (Optional)"}),e.jsx(w,{children:e.jsx(K,{...s,rows:3,placeholder:"Describe any relevant work experience or qualifications","data-testid":"textarea-relevant-experience"})}),e.jsx(C,{})]})}),e.jsx(v,{control:A.control,name:"careerGoals",render:({field:s})=>e.jsxs(y,{children:[e.jsx(b,{children:"Career Goals (Optional)"}),e.jsx(w,{children:e.jsx(K,{...s,rows:3,placeholder:"What are your long-term career aspirations?","data-testid":"textarea-career-goals"})}),e.jsx(C,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>$(!1),children:"Cancel"}),e.jsx(c,{type:"submit",disabled:I.isPending,"data-testid":"button-submit-application",children:I.isPending?"Submitting...":"Submit Application"})]})]})})]})})]}),e.jsxs(L,{value:"pathways",className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Learning Pathways"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Structured career development paths"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Pe?Array.from({length:4}).map((s,t)=>e.jsx(i,{children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},t)):_&&_.length>0?_.map(s=>e.jsxs(i,{className:"hover:shadow-lg transition-shadow","data-testid":`card-pathway-${s.id}`,children:[e.jsx(u,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-lg",children:s.pathwayName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.industry}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(j,{variant:ce(s.difficulty),children:s.difficulty}),e.jsx(j,{variant:"outline",children:s.careerLevel})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold",children:s.estimatedDuration}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Duration"})]})]})}),e.jsxs(r,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("p",{className:"text-sm font-medium",children:"Learning Steps:"}),e.jsxs("div",{className:"space-y-1",children:[s.learningSteps&&s.learningSteps.slice(0,3).map((t,o)=>e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(je,{className:"h-3 w-3 mr-2 text-green-500"}),t]},o)),s.learningSteps&&s.learningSteps.length>3&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",s.learningSteps.length-3," more steps"]})]})]}),e.jsxs(c,{className:"w-full",onClick:()=>{be(s),F(!0)},"data-testid":`button-enroll-pathway-${s.id}`,children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Enroll in Pathway"]})]})]},s.id)):e.jsx("div",{className:"col-span-full",children:e.jsx(i,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ve,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No learning pathways available"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back for new career development paths"})]})})})})}),e.jsx(te,{open:Le,onOpenChange:F,children:e.jsxs(ae,{children:[e.jsxs(ie,{children:[e.jsxs(re,{children:["Enroll in ",d==null?void 0:d.pathwayName]}),e.jsx(ne,{children:"Start your learning journey with this structured pathway"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Industry:"})," ",d==null?void 0:d.industry]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Career Level:"})," ",d==null?void 0:d.careerLevel]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Duration:"})," ",d==null?void 0:d.estimatedDuration]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Difficulty:"})," ",d==null?void 0:d.difficulty]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),e.jsx(c,{onClick:()=>{d&&B.mutate(d.id)},disabled:B.isPending,"data-testid":"button-confirm-enrollment",children:B.isPending?"Enrolling...":"Confirm Enrollment"})]})]})]})})]}),e.jsxs(L,{value:"skills",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Skills Assessment"}),e.jsx(ee,{children:"Your verified skills and competencies"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:ke?Array.from({length:3}).map((s,t)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-3 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-muted rounded w-full"})]},t)):H&&H.length>0?H.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.skillName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.skillCategory})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex",children:Array.from({length:5}).map((t,o)=>e.jsx(pe,{className:`h-3 w-3 ${o<s.competencyLevel?"text-yellow-500 fill-current":"text-gray-300"}`},o))}),s.isEndorsed&&e.jsx(j,{variant:"default",className:"text-xs",children:"Endorsed"})]})]},s.id)):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No skills assessed yet"})})})]}),e.jsxs(i,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Development Plans"}),e.jsx(ee,{children:"Your personal development roadmap"})]}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:Ee?Array.from({length:3}).map((s,t)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-3 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-2 bg-muted rounded w-full"})]},t)):M&&M.length>0?M.map(s=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-medium text-sm",children:s.planName}),e.jsx(j,{variant:X(s.status),children:s.status})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progressPercentage,"%"]})]}),e.jsx(se,{value:s.progressPercentage,className:"w-full h-2"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Target: ",new Date(s.targetCompletionDate).toLocaleDateString()]})]},s.id)):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No development plans created"})})})]})]}),W&&W.length>0&&e.jsxs(i,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Active Programme Participations"}),e.jsx(ee,{children:"Your current programme enrollments"})]}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:W.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-medium",children:s.programmeName}),e.jsx(j,{variant:X(s.status),children:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progressPercentage,"%"]})]}),e.jsx(se,{value:s.progressPercentage,className:"w-full"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(s.startDate).toLocaleDateString()]})]})]},s.id))})})]})]})]})]})})}export{Es as default};
