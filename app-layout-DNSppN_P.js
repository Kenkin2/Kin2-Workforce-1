import{c as y,B as Qe,U as Ze,S as te,W as Ja,Z as qe,F as ge,a5 as en,a2 as tn,Y as an,a4 as nn,t as ke,r as o,a9 as rn,aa as le,ab as Je,ac as et,ad as sn,j as e,ae as tt,af as Se,w as $,ag as at,p as A,v,ah as on,P as _,ai as cn,aj as nt,ak as rt,al as ln,am as st,an as ot,ao as it,s as ct,ap as ve,k as b,h as dn,d as S,b as z,a8 as Re,g as lt,aq as un,L as B,a1 as mn,X as fn,ar as pn,C as ne,e as dt,f as ut,a as re,i as hn,I as mt,u as xn,n as gn,as as vn}from"./index-aBzEQGYq.js";import{A as ft,a as pt,b as ht}from"./avatar-B73pXDWb.js";import{T as yn}from"./target-kE2L6cy0.js";import{C as xt}from"./calendar-B5qd1N74.js";import{C as gt}from"./clock-Dcf5yqqC.js";import{U as se}from"./users-DQHjr_4E.js";import{B as vt}from"./building-DW2XR0jT.js";import{H as bn}from"./handshake-DxRR1pa7.js";import{C as ye}from"./credit-card-CxGwdsfA.js";import{C as wn}from"./calculator-Ch1wpyY6.js";import{a as jn,C as de}from"./crown-J1RsCPzy.js";import{M as Nn}from"./map-pin-D49hIz5W.js";import{P as yt}from"./pound-sterling-DvDjXgI4.js";import{T as Cn}from"./trending-up-EJ-1Wo56.js";import{M as bt}from"./message-square-CV5BlX6z.js";import{F as Mn}from"./file-text-DGolt20j.js";import{S as kn,C as Pe}from"./shield-check-DrJu6eCf.js";import{h as wt,u as jt,R as Nt,F as Ct}from"./Combination-D-0K7YMg.js";import{C as Mt}from"./index-oqkmxxPa.js";import{R as Sn,C as Rn,a as Pn,S as _e}from"./scroll-area-Dsz05QRK.js";import{A as _n,a as Dn,b as An,c as In,d as Tn,e as En,f as On,g as Ln}from"./alert-dialog-CGu9Do5w.js";import{R as $n,T as Fn,P as Gn,C as kt,a as Kn,b as St,O as Rt,D as Pt}from"./index-r-q9YERm.js";import{D as zn,a as Bn,b as Un,c as Vn,d as Hn}from"./dialog-23jdk0P0.js";import{S as Wn}from"./send-DOYPj-_D.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=y("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=y("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=y("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=y("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=y("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=y("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=y("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=y("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=y("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=y("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=y("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=y("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=y("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=y("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=y("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=y("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),rr=Sn,sr=Rn,or=Pn,oe=[{name:"Quick Access",icon:yn,defaultOpen:!0,items:[{name:"Dashboard",href:"/",icon:It,badge:null},{name:"AI Intelligence",href:"/ai",icon:Qe,badge:"New"}]},{name:"Work Management",icon:be,defaultOpen:!0,items:[{name:"Jobs",href:"/jobs",icon:be,badge:"12"},{name:"Gig Management",href:"/gig-management",icon:Zn,badge:null},{name:"Schedule",href:"/schedule",icon:xt,badge:null},{name:"Advanced Scheduling",href:"/scheduling",icon:_t,badge:null},{name:"Timesheets",href:"/timesheets",icon:gt,badge:"3"}]},{name:"People & Relationships",icon:se,defaultOpen:!1,items:[{name:"Workers",href:"/workers",icon:se},{name:"Clients",href:"/clients",icon:vt},{name:"HR Management",href:"/hr-management",icon:Ze},{name:"CRM Management",href:"/crm-management",icon:bn}]},{name:"Financial",icon:ye,defaultOpen:!1,items:[{name:"Payments",href:"/payments",icon:ye,badge:null},{name:"Finance Management",href:"/finance-management",icon:wn},{name:"Subscriptions",href:"/subscription",icon:jn}]},{name:"Operations & Assets",icon:Qn,defaultOpen:!1,items:[{name:"Operations",href:"/operations-management",icon:te},{name:"Asset Management",href:"/asset-management",icon:qn},{name:"Products & Facilities",href:"/products-facilities",icon:nr},{name:"Map Tracking",href:"/map-tracking",icon:Nn}]},{name:"Analytics & Reports",icon:Cn,defaultOpen:!1,items:[{name:"Analytics",href:"/analytics",icon:Ja},{name:"Reports",href:"/reports",icon:Dt},{name:"Government & Benefits",href:"/government-reports",icon:yt}]},{name:"Learning & Engagement",icon:we,defaultOpen:!1,items:[{name:"Learning Hub",href:"/learning",icon:we},{name:"Karma Coins",href:"/karma-coins",icon:de,badge:"Rewards"}]},{name:"Business Tools",icon:qe,defaultOpen:!1,items:[{name:"Marketplace",href:"/marketplace",icon:Et,badge:"8+"},{name:"Collaboration",href:"/collaboration",icon:bt,badge:"Live"},{name:"Workflows",href:"/workflows",icon:Yn,badge:"Auto"},{name:"Automation",href:"/automation",icon:qe},{name:"Document Management",href:"/document-management",icon:Mn}]},{name:"Security & Compliance",icon:en,defaultOpen:!1,items:[{name:"Security Center",href:"/security",icon:ge,badge:"Quantum"},{name:"Security Monitor",href:"/security-monitoring",icon:ge},{name:"Privacy",href:"/privacy",icon:kn},{name:"Compliance",href:"/compliance-dashboard",icon:At,badge:"GDPR"}]},{name:"Settings & Configuration",icon:te,defaultOpen:!1,items:[{name:"Settings",href:"/settings",icon:te},{name:"Integrations",href:"/integrations",icon:tn},{name:"Enterprise",href:"/enterprise",icon:an},{name:"Mobile",href:"/mobile",icon:nn},{name:"Graphics Showcase",href:"/graphics-showcase",icon:Tt,badge:"New"}]}];oe.slice(0,2).flatMap(t=>t.items);oe.slice(2).flatMap(t=>t.items);const ir=[{name:"Dashboard",href:"/",icon:It},{name:"AI Intelligence",href:"/ai",icon:Qe,badge:"New"},{name:"Marketplace",href:"/marketplace",icon:Et,badge:"8+"},{name:"Collaboration",href:"/collaboration",icon:bt,badge:"Live"},{name:"Security Center",href:"/security",icon:ge,badge:"Quantum"},{name:"Jobs",href:"/jobs",icon:be,badge:"12"},{name:"Schedule",href:"/schedule",icon:xt},{name:"Advanced Scheduling",href:"/scheduling",icon:_t},{name:"Timesheets",href:"/timesheets",icon:gt,badge:"3"},{name:"Payments",href:"/payments",icon:ye},{name:"Learning Hub",href:"/learning",icon:we},{name:"Karma Coins",href:"/karma-coins",icon:de,badge:"Rewards"},{name:"Graphics Showcase",href:"/graphics-showcase",icon:Tt,badge:"New"},{name:"Reports",href:"/reports",icon:Dt},{name:"Government & Benefits",href:"/government-reports",icon:yt},{name:"Workers",href:"/workers",icon:se},{name:"Clients",href:"/clients",icon:vt},{name:"Compliance",href:"/compliance-dashboard",icon:At,badge:"GDPR"},{name:"Settings",href:"/settings",icon:te}];var Me=["Enter"," "],cr=["ArrowDown","PageUp","Home"],Ot=["ArrowUp","PageDown","End"],lr=[...cr,...Ot],dr={ltr:[...Me,"ArrowRight"],rtl:[...Me,"ArrowLeft"]},ur={ltr:["ArrowLeft"],rtl:["ArrowRight"]},H="Menu",[U,mr,fr]=rn(H),[I,Lt]=ke(H,[fr,le,Je]),ue=le(),$t=Je(),[pr,T]=I(H),[hr,W]=I(H),Ft=t=>{const{__scopeMenu:a,open:n=!1,children:r,dir:s,onOpenChange:i,modal:c=!0}=t,l=ue(a),[d,h]=o.useState(null),p=o.useRef(!1),u=et(i),f=sn(s);return o.useEffect(()=>{const m=()=>{p.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>p.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(tt,{...l,children:e.jsx(pr,{scope:a,open:n,onOpenChange:u,content:d,onContentChange:h,children:e.jsx(hr,{scope:a,onClose:o.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:p,dir:f,modal:c,children:r})})})};Ft.displayName=H;var xr="MenuAnchor",De=o.forwardRef((t,a)=>{const{__scopeMenu:n,...r}=t,s=ue(n);return e.jsx(Se,{...s,...r,ref:a})});De.displayName=xr;var Ae="MenuPortal",[gr,Gt]=I(Ae,{forceMount:void 0}),Kt=t=>{const{__scopeMenu:a,forceMount:n,children:r,container:s}=t,i=T(Ae,a);return e.jsx(gr,{scope:a,forceMount:n,children:e.jsx($,{present:n||i.open,children:e.jsx(at,{asChild:!0,container:s,children:r})})})};Kt.displayName=Ae;var C="MenuContent",[vr,Ie]=I(C),zt=o.forwardRef((t,a)=>{const n=Gt(C,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=T(C,t.__scopeMenu),c=W(C,t.__scopeMenu);return e.jsx(U.Provider,{scope:t.__scopeMenu,children:e.jsx($,{present:r||i.open,children:e.jsx(U.Slot,{scope:t.__scopeMenu,children:c.modal?e.jsx(yr,{...s,ref:a}):e.jsx(br,{...s,ref:a})})})})}),yr=o.forwardRef((t,a)=>{const n=T(C,t.__scopeMenu),r=o.useRef(null),s=A(a,r);return o.useEffect(()=>{const i=r.current;if(i)return wt(i)},[]),e.jsx(Te,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:v(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),br=o.forwardRef((t,a)=>{const n=T(C,t.__scopeMenu);return e.jsx(Te,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wr=nt("MenuContent.ScrollLock"),Te=o.forwardRef((t,a)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...j}=t,R=T(C,n),F=W(C,n),X=ue(n),Y=$t(n),ze=mr(n),[Wa,Be]=o.useState(null),Q=o.useRef(null),qa=A(a,Q,R.onContentChange),Z=o.useRef(0),J=o.useRef(""),Xa=o.useRef(0),fe=o.useRef(null),Ue=o.useRef("right"),pe=o.useRef(0),Ya=g?Nt:o.Fragment,Qa=g?{as:wr,allowPinchZoom:!0}:void 0,Za=x=>{var O,He;const N=J.current+x,M=ze().filter(k=>!k.disabled),P=document.activeElement,he=(O=M.find(k=>k.ref.current===P))==null?void 0:O.textValue,xe=M.map(k=>k.textValue),Ve=Ir(xe,N,he),G=(He=M.find(k=>k.textValue===Ve))==null?void 0:He.ref.current;(function k(We){J.current=We,window.clearTimeout(Z.current),We!==""&&(Z.current=window.setTimeout(()=>k(""),1e3))})(N),G&&setTimeout(()=>G.focus())};o.useEffect(()=>()=>window.clearTimeout(Z.current),[]),jt();const E=o.useCallback(x=>{var M,P;return Ue.current===((M=fe.current)==null?void 0:M.side)&&Er(x,(P=fe.current)==null?void 0:P.area)},[]);return e.jsx(vr,{scope:n,searchRef:J,onItemEnter:o.useCallback(x=>{E(x)&&x.preventDefault()},[E]),onItemLeave:o.useCallback(x=>{var N;E(x)||((N=Q.current)==null||N.focus(),Be(null))},[E]),onTriggerLeave:o.useCallback(x=>{E(x)&&x.preventDefault()},[E]),pointerGraceTimerRef:Xa,onPointerGraceIntentChange:o.useCallback(x=>{fe.current=x},[]),children:e.jsx(Ya,{...Qa,children:e.jsx(Ct,{asChild:!0,trapped:s,onMountAutoFocus:v(i,x=>{var N;x.preventDefault(),(N=Q.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(rt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:f,onDismiss:m,children:e.jsx(ln,{asChild:!0,...Y,dir:F.dir,orientation:"vertical",loop:r,currentTabStopId:Wa,onCurrentTabStopIdChange:Be,onEntryFocus:v(d,x=>{F.isUsingKeyboardRef.current||x.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(st,{role:"menu","aria-orientation":"vertical","data-state":ra(R.open),"data-radix-menu-content":"",dir:F.dir,...X,...j,ref:qa,style:{outline:"none",...j.style},onKeyDown:v(j.onKeyDown,x=>{const M=x.target.closest("[data-radix-menu-content]")===x.currentTarget,P=x.ctrlKey||x.altKey||x.metaKey,he=x.key.length===1;M&&(x.key==="Tab"&&x.preventDefault(),!P&&he&&Za(x.key));const xe=Q.current;if(x.target!==xe||!lr.includes(x.key))return;x.preventDefault();const G=ze().filter(O=>!O.disabled).map(O=>O.ref.current);Ot.includes(x.key)&&G.reverse(),Dr(G)}),onBlur:v(t.onBlur,x=>{x.currentTarget.contains(x.target)||(window.clearTimeout(Z.current),J.current="")}),onPointerMove:v(t.onPointerMove,V(x=>{const N=x.target,M=pe.current!==x.clientX;if(x.currentTarget.contains(N)&&M){const P=x.clientX>pe.current?"right":"left";Ue.current=P,pe.current=x.clientX}}))})})})})})})});zt.displayName=C;var jr="MenuGroup",Ee=o.forwardRef((t,a)=>{const{__scopeMenu:n,...r}=t;return e.jsx(_.div,{role:"group",...r,ref:a})});Ee.displayName=jr;var Nr="MenuLabel",Bt=o.forwardRef((t,a)=>{const{__scopeMenu:n,...r}=t;return e.jsx(_.div,{...r,ref:a})});Bt.displayName=Nr;var ie="MenuItem",Xe="menu.itemSelect",me=o.forwardRef((t,a)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=o.useRef(null),c=W(ie,t.__scopeMenu),l=Ie(ie,t.__scopeMenu),d=A(a,i),h=o.useRef(!1),p=()=>{const u=i.current;if(!n&&u){const f=new CustomEvent(Xe,{bubbles:!0,cancelable:!0});u.addEventListener(Xe,m=>r==null?void 0:r(m),{once:!0}),cn(u,f),f.defaultPrevented?h.current=!1:c.onClose()}};return e.jsx(Ut,{...s,ref:d,disabled:n,onClick:v(t.onClick,p),onPointerDown:u=>{var f;(f=t.onPointerDown)==null||f.call(t,u),h.current=!0},onPointerUp:v(t.onPointerUp,u=>{var f;h.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:v(t.onKeyDown,u=>{const f=l.searchRef.current!=="";n||f&&u.key===" "||Me.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});me.displayName=ie;var Ut=o.forwardRef((t,a)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,c=Ie(ie,n),l=$t(n),d=o.useRef(null),h=A(a,d),[p,u]=o.useState(!1),[f,m]=o.useState("");return o.useEffect(()=>{const g=d.current;g&&m((g.textContent??"").trim())},[i.children]),e.jsx(U.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:e.jsx(on,{asChild:!0,...l,focusable:!r,children:e.jsx(_.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:v(t.onPointerMove,V(g=>{r?c.onItemLeave(g):(c.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:v(t.onPointerLeave,V(g=>c.onItemLeave(g))),onFocus:v(t.onFocus,()=>u(!0)),onBlur:v(t.onBlur,()=>u(!1))})})})}),Cr="MenuCheckboxItem",Vt=o.forwardRef((t,a)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return e.jsx(Yt,{scope:t.__scopeMenu,checked:n,children:e.jsx(me,{role:"menuitemcheckbox","aria-checked":ce(n)?"mixed":n,...s,ref:a,"data-state":Le(n),onSelect:v(s.onSelect,()=>r==null?void 0:r(ce(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Vt.displayName=Cr;var Ht="MenuRadioGroup",[Mr,kr]=I(Ht,{value:void 0,onValueChange:()=>{}}),Wt=o.forwardRef((t,a)=>{const{value:n,onValueChange:r,...s}=t,i=et(r);return e.jsx(Mr,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(Ee,{...s,ref:a})})});Wt.displayName=Ht;var qt="MenuRadioItem",Xt=o.forwardRef((t,a)=>{const{value:n,...r}=t,s=kr(qt,t.__scopeMenu),i=n===s.value;return e.jsx(Yt,{scope:t.__scopeMenu,checked:i,children:e.jsx(me,{role:"menuitemradio","aria-checked":i,...r,ref:a,"data-state":Le(i),onSelect:v(r.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,n)},{checkForDefaultPrevented:!1})})})});Xt.displayName=qt;var Oe="MenuItemIndicator",[Yt,Sr]=I(Oe,{checked:!1}),Qt=o.forwardRef((t,a)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Sr(Oe,n);return e.jsx($,{present:r||ce(i.checked)||i.checked===!0,children:e.jsx(_.span,{...s,ref:a,"data-state":Le(i.checked)})})});Qt.displayName=Oe;var Rr="MenuSeparator",Zt=o.forwardRef((t,a)=>{const{__scopeMenu:n,...r}=t;return e.jsx(_.div,{role:"separator","aria-orientation":"horizontal",...r,ref:a})});Zt.displayName=Rr;var Pr="MenuArrow",Jt=o.forwardRef((t,a)=>{const{__scopeMenu:n,...r}=t,s=ue(n);return e.jsx(ot,{...s,...r,ref:a})});Jt.displayName=Pr;var _r="MenuSub",[Co,ea]=I(_r),K="MenuSubTrigger",ta=o.forwardRef((t,a)=>{const n=T(K,t.__scopeMenu),r=W(K,t.__scopeMenu),s=ea(K,t.__scopeMenu),i=Ie(K,t.__scopeMenu),c=o.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},p=o.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return o.useEffect(()=>p,[p]),o.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),d(null)}},[l,d]),e.jsx(De,{asChild:!0,...h,children:e.jsx(Ut,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":ra(n.open),...t,ref:it(a,s.onTriggerChange),onClick:u=>{var f;(f=t.onClick)==null||f.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:v(t.onPointerMove,V(u=>{i.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:v(t.onPointerLeave,V(u=>{var m,g;p();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const j=(g=n.content)==null?void 0:g.dataset.side,R=j==="right",F=R?-5:5,X=f[R?"left":"right"],Y=f[R?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+F,y:u.clientY},{x:X,y:f.top},{x:Y,y:f.top},{x:Y,y:f.bottom},{x:X,y:f.bottom}],side:j}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:v(t.onKeyDown,u=>{var m;const f=i.searchRef.current!=="";t.disabled||f&&u.key===" "||dr[r.dir].includes(u.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),u.preventDefault())})})})});ta.displayName=K;var aa="MenuSubContent",na=o.forwardRef((t,a)=>{const n=Gt(C,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=T(C,t.__scopeMenu),c=W(C,t.__scopeMenu),l=ea(aa,t.__scopeMenu),d=o.useRef(null),h=A(a,d);return e.jsx(U.Provider,{scope:t.__scopeMenu,children:e.jsx($,{present:r||i.open,children:e.jsx(U.Slot,{scope:t.__scopeMenu,children:e.jsx(Te,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var u;c.isUsingKeyboardRef.current&&((u=d.current)==null||u.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:v(t.onFocusOutside,p=>{p.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:v(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:v(t.onKeyDown,p=>{var m;const u=p.currentTarget.contains(p.target),f=ur[c.dir].includes(p.key);u&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),p.preventDefault())})})})})})});na.displayName=aa;function ra(t){return t?"open":"closed"}function ce(t){return t==="indeterminate"}function Le(t){return ce(t)?"indeterminate":t?"checked":"unchecked"}function Dr(t){const a=document.activeElement;for(const n of t)if(n===a||(n.focus(),document.activeElement!==a))return}function Ar(t,a){return t.map((n,r)=>t[(a+r)%t.length])}function Ir(t,a,n){const s=a.length>1&&Array.from(a).every(h=>h===a[0])?a[0]:a,i=n?t.indexOf(n):-1;let c=Ar(t,Math.max(i,0));s.length===1&&(c=c.filter(h=>h!==n));const d=c.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Tr(t,a){const{x:n,y:r}=t;let s=!1;for(let i=0,c=a.length-1;i<a.length;c=i++){const l=a[i].x,d=a[i].y,h=a[c].x,p=a[c].y;d>r!=p>r&&n<(h-l)*(r-d)/(p-d)+l&&(s=!s)}return s}function Er(t,a){if(!a)return!1;const n={x:t.clientX,y:t.clientY};return Tr(n,a)}function V(t){return a=>a.pointerType==="mouse"?t(a):void 0}var Or=Ft,Lr=De,$r=Kt,Fr=zt,Gr=Ee,Kr=Bt,zr=me,Br=Vt,Ur=Wt,Vr=Xt,Hr=Qt,Wr=Zt,qr=Jt,Xr=ta,Yr=na,$e="DropdownMenu",[Qr]=ke($e,[Lt]),w=Lt(),[Zr,sa]=Qr($e),oa=t=>{const{__scopeDropdownMenu:a,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:c,modal:l=!0}=t,d=w(a),h=o.useRef(null),[p=!1,u]=ct({prop:s,defaultProp:i,onChange:c});return e.jsx(Zr,{scope:a,triggerId:ve(),triggerRef:h,contentId:ve(),open:p,onOpenChange:u,onOpenToggle:o.useCallback(()=>u(f=>!f),[u]),modal:l,children:e.jsx(Or,{...d,open:p,onOpenChange:u,dir:r,modal:l,children:n})})};oa.displayName=$e;var ia="DropdownMenuTrigger",ca=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=sa(ia,n),c=w(n);return e.jsx(Lr,{asChild:!0,...c,children:e.jsx(_.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:it(a,i.triggerRef),onPointerDown:v(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:v(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ca.displayName=ia;var Jr="DropdownMenuPortal",la=t=>{const{__scopeDropdownMenu:a,...n}=t,r=w(a);return e.jsx($r,{...r,...n})};la.displayName=Jr;var da="DropdownMenuContent",ua=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=sa(da,n),i=w(n),c=o.useRef(!1);return e.jsx(Fr,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:a,onCloseAutoFocus:v(t.onCloseAutoFocus,l=>{var d;c.current||(d=s.triggerRef.current)==null||d.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:v(t.onInteractOutside,l=>{const d=l.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;(!s.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ua.displayName=da;var es="DropdownMenuGroup",ts=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Gr,{...s,...r,ref:a})});ts.displayName=es;var as="DropdownMenuLabel",ma=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Kr,{...s,...r,ref:a})});ma.displayName=as;var ns="DropdownMenuItem",fa=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(zr,{...s,...r,ref:a})});fa.displayName=ns;var rs="DropdownMenuCheckboxItem",pa=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Br,{...s,...r,ref:a})});pa.displayName=rs;var ss="DropdownMenuRadioGroup",os=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Ur,{...s,...r,ref:a})});os.displayName=ss;var is="DropdownMenuRadioItem",ha=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Vr,{...s,...r,ref:a})});ha.displayName=is;var cs="DropdownMenuItemIndicator",xa=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Hr,{...s,...r,ref:a})});xa.displayName=cs;var ls="DropdownMenuSeparator",ga=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Wr,{...s,...r,ref:a})});ga.displayName=ls;var ds="DropdownMenuArrow",us=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(qr,{...s,...r,ref:a})});us.displayName=ds;var ms="DropdownMenuSubTrigger",va=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Xr,{...s,...r,ref:a})});va.displayName=ms;var fs="DropdownMenuSubContent",ya=o.forwardRef((t,a)=>{const{__scopeDropdownMenu:n,...r}=t,s=w(n);return e.jsx(Yr,{...s,...r,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ya.displayName=fs;var ps=oa,hs=ca,xs=la,ba=ua,wa=ma,ja=fa,Na=pa,Ca=ha,Ma=xa,ka=ga,Sa=va,Ra=ya;const gs=ps,vs=hs,ys=o.forwardRef(({className:t,inset:a,children:n,...r},s)=>e.jsxs(Sa,{ref:s,className:b("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...r,children:[n,e.jsx(Pe,{className:"ml-auto"})]}));ys.displayName=Sa.displayName;const bs=o.forwardRef(({className:t,...a},n)=>e.jsx(Ra,{ref:n,className:b("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a}));bs.displayName=Ra.displayName;const Pa=o.forwardRef(({className:t,sideOffset:a=4,...n},r)=>e.jsx(xs,{children:e.jsx(ba,{ref:r,sideOffset:a,className:b("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Pa.displayName=ba.displayName;const ae=o.forwardRef(({className:t,inset:a,...n},r)=>e.jsx(ja,{ref:r,className:b("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...n}));ae.displayName=ja.displayName;const ws=o.forwardRef(({className:t,children:a,checked:n,...r},s)=>e.jsxs(Na,{ref:s,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ma,{children:e.jsx(dn,{className:"h-4 w-4"})})}),a]}));ws.displayName=Na.displayName;const js=o.forwardRef(({className:t,children:a,...n},r)=>e.jsxs(Ca,{ref:r,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ma,{children:e.jsx(Xn,{className:"h-2 w-2 fill-current"})})}),a]}));js.displayName=Ca.displayName;const Ns=o.forwardRef(({className:t,inset:a,...n},r)=>e.jsx(wa,{ref:r,className:b("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...n}));Ns.displayName=wa.displayName;const Cs=o.forwardRef(({className:t,...a},n)=>e.jsx(ka,{ref:n,className:b("-mx-1 my-1 h-px bg-muted",t),...a}));Cs.displayName=ka.displayName;function Fe(){const[t,a]=o.useState(()=>{if(typeof window<"u"){const d=localStorage.getItem("theme");if(d&&["light","dark","system"].includes(d))return d}return"system"}),[n,r]=o.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1);return o.useEffect(()=>{const d=()=>{const h=document.documentElement;h.classList.remove("light","dark");let p;t==="system"?p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":p=t,p==="dark"?(h.classList.add("dark"),r(!0)):(h.classList.add("light"),r(!1)),localStorage.setItem("theme",t)};if(d(),t==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>d();return h.addEventListener("change",p),()=>h.removeEventListener("change",p)}},[t]),{theme:t,isDark:n,toggleTheme:()=>{a(d=>d==="light"?"dark":d==="dark"?"system":"light")},setLightTheme:()=>a("light"),setDarkTheme:()=>a("dark"),setSystemTheme:()=>a("system")}}function _a({variant:t="icon",className:a}){const{theme:n,toggleTheme:r,setLightTheme:s,setDarkTheme:i,setSystemTheme:c}=Fe(),l=()=>n==="dark"?e.jsx(Ne,{className:"w-4 h-4"}):n==="light"?e.jsx(Ce,{className:"w-4 h-4"}):e.jsx(je,{className:"w-4 h-4"}),d=()=>n==="dark"?"Dark":n==="light"?"Light":"System";return t==="dropdown"?e.jsxs(gs,{children:[e.jsx(vs,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:`justify-between min-w-[120px] ${a}`,"data-testid":"dropdown-theme-toggle",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l(),e.jsx("span",{className:"text-sm",children:d()})]}),e.jsx(Mt,{className:"w-3 h-3 opacity-50"})]})}),e.jsxs(Pa,{align:"end",className:"w-[120px]",children:[e.jsxs(ae,{onClick:s,className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"Light"})]}),e.jsxs(ae,{onClick:i,className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Dark"})]}),e.jsxs(ae,{onClick:c,className:"flex items-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{children:"System"})]})]})]}):e.jsx(S,{variant:"ghost",size:"icon",onClick:r,className:`transition-all duration-300 hover:bg-accent/50 hover:scale-105 ${a}`,"data-testid":"button-theme-toggle",title:`Current theme: ${d()}. Click to cycle between light, dark, and system themes.`,children:e.jsxs("div",{className:"relative transition-transform duration-200",children:[l(),e.jsxs("span",{className:"sr-only",children:["Toggle theme (current: ",d(),")"]})]})})}function Ye({showLabel:t=!1,className:a=""}){const{theme:n}=Fe(),r=()=>n==="dark"?e.jsx(Ne,{className:"w-3 h-3"}):n==="light"?e.jsx(Ce,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),s=()=>n==="dark"?"Dark Mode":n==="light"?"Light Mode":"System Mode",i=()=>n==="dark"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":n==="light"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return t?e.jsx(z,{variant:"outline",className:`${i()} ${a}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[r(),e.jsx("span",{className:"text-xs",children:s()})]})}):e.jsx("div",{className:`flex items-center justify-center ${a}`,title:s(),children:r()})}function Ms(){var d,h,p;const[t]=Re(),{user:a}=lt(),[n,r]=o.useState(!1),[s,i]=o.useState(()=>{const u={};return oe.forEach(f=>{u[f.name]=f.defaultOpen??!1}),u}),c=u=>{i(f=>({...f,[u]:!f[u]}))},l=async()=>{r(!1),window.location.href="/api/logout"};return e.jsxs("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0 md:left-0 md:z-50",children:[e.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto bg-sidebar border-r border-sidebar-border h-full",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(un,{variant:"emblem",size:"sm",className:"mr-3"}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg font-semibold text-sidebar-foreground",children:"Kin2 Workforce"})})]})}),e.jsx("div",{className:"mt-8 px-4",children:e.jsxs("div",{className:"bg-sidebar-accent rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(ft,{className:"w-10 h-10",children:[e.jsx(pt,{src:(a==null?void 0:a.profileImageUrl)||void 0,alt:"User Profile"}),e.jsxs(ht,{children:[((d=a==null?void 0:a.firstName)==null?void 0:d.charAt(0))||"U",((h=a==null?void 0:a.lastName)==null?void 0:h.charAt(0))||"S"]})]}),e.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-sidebar-foreground truncate","data-testid":"text-user-name",children:[(a==null?void 0:a.firstName)||"User"," ",(a==null?void 0:a.lastName)||"Name"]}),e.jsx("p",{className:"text-xs text-sidebar-accent-foreground truncate","data-testid":"text-user-role",children:(a==null?void 0:a.role)||"Worker"})]})]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"w-full mt-3 text-sidebar-accent-foreground hover:text-sidebar-foreground",onClick:()=>r(!0),"data-testid":"button-logout",children:[e.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})}),e.jsxs("nav",{className:"mt-8 flex-1 px-4 space-y-2 overflow-y-auto",role:"navigation","aria-label":"Main navigation",children:[oe.map(u=>e.jsxs(rr,{open:s[u.name],onOpenChange:()=>c(u.name),children:[e.jsxs(sr,{className:"flex items-center justify-between w-full px-3 py-2 text-sm font-semibold text-sidebar-accent-foreground hover:bg-sidebar-accent rounded-md transition-colors","data-testid":`nav-group-${u.name.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u.icon,{className:"mr-3 w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:u.name})]}),s[u.name]?e.jsx(Mt,{className:"w-4 h-4","aria-hidden":"true"}):e.jsx(Pe,{className:"w-4 h-4","aria-hidden":"true"})]}),e.jsx(or,{className:"mt-1 space-y-1",children:u.items.map(f=>{const m=t===f.href||f.href!=="/"&&t.startsWith(f.href);return e.jsxs(B,{href:f.href,className:b("group flex items-center pl-10 pr-3 py-2 text-sm font-medium rounded-md transition-all duration-200 cursor-pointer",m?"bg-sidebar-primary text-sidebar-primary-foreground shadow-lg border-l-4 border-primary":"text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-foreground hover:shadow-md"),"aria-current":m?"page":void 0,"data-testid":`nav-${f.name.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx(f.icon,{className:"mr-3 w-4 h-4","aria-hidden":"true"}),f.name,f.badge&&e.jsx("span",{className:"ml-auto bg-secondary text-secondary-foreground text-xs px-2 py-1 rounded-full","aria-label":`${f.badge} notifications`,children:f.badge})]},f.name)})})]},u.name)),(a==null?void 0:a.role)==="admin"&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-sidebar-border",children:[e.jsx("div",{className:"px-3 mb-2",children:e.jsx("span",{className:"text-xs font-semibold text-sidebar-accent-foreground uppercase tracking-wider",children:"System Administration"})}),e.jsxs(B,{href:"/admin",className:b("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 cursor-pointer",t==="/admin"?"bg-sidebar-primary text-sidebar-primary-foreground shadow-lg border-l-4 border-primary":"text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-foreground hover:shadow-md"),"aria-current":t==="/admin"?"page":void 0,"data-testid":"nav-admin-dashboard",children:[e.jsx(mn,{className:"mr-3 w-4 h-4","aria-hidden":"true"}),"Admin Dashboard"]})]})]}),e.jsxs("div",{className:"p-4 mt-auto space-y-4",children:[e.jsxs("div",{className:"bg-sidebar-accent rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{}),e.jsx("span",{className:"text-sm font-medium text-sidebar-foreground",children:"Theme"})]}),e.jsx(_a,{variant:"icon",className:"h-8 w-8"})]}),e.jsx(Ye,{showLabel:!0,className:"mt-2"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-secondary to-primary p-4 rounded-lg text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"KarmaCoins"}),e.jsx(de,{className:"w-5 h-5"})]}),e.jsx("div",{className:"text-2xl font-bold","data-testid":"text-karma-coins-sidebar",children:((p=a==null?void 0:a.karmaCoins)==null?void 0:p.toLocaleString())||"0"}),e.jsx("div",{className:"text-xs opacity-75",children:"+127 this week"})]})]})]}),e.jsx(_n,{open:n,onOpenChange:r,children:e.jsxs(Dn,{children:[e.jsxs(An,{children:[e.jsx(In,{children:"Confirm Sign Out"}),e.jsx(Tn,{children:"Are you sure you want to sign out? Any unsaved changes will be lost."})]}),e.jsxs(En,{children:[e.jsx(On,{"data-testid":"button-cancel-logout",children:"Cancel"}),e.jsx(Ln,{onClick:l,"data-testid":"button-confirm-logout",className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Sign Out"})]})]})})]})}const ks=$n,Ss=Fn,Rs=Gn,Da=o.forwardRef(({className:t,...a},n)=>e.jsx(Rt,{className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:n}));Da.displayName=Rt.displayName;const Ps=pn("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Aa=o.forwardRef(({side:t="right",className:a,children:n,...r},s)=>e.jsxs(Rs,{children:[e.jsx(Da,{}),e.jsxs(kt,{ref:s,className:b(Ps({side:t}),a),...r,children:[n,e.jsxs(Kn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(fn,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Aa.displayName=kt.displayName;const Ia=({className:t,...a})=>e.jsx("div",{className:b("flex flex-col space-y-2 text-center sm:text-left",t),...a});Ia.displayName="SheetHeader";const Ta=o.forwardRef(({className:t,...a},n)=>e.jsx(St,{ref:n,className:b("text-lg font-semibold text-foreground",t),...a}));Ta.displayName=St.displayName;const _s=o.forwardRef(({className:t,...a},n)=>e.jsx(Pt,{ref:n,className:b("text-sm text-muted-foreground",t),...a}));_s.displayName=Pt.displayName;function Ds(){var s,i,c;const[t,a]=o.useState(!1),[n]=Re(),{user:r}=lt();return e.jsxs(ks,{open:t,onOpenChange:a,children:[e.jsx(Ss,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"sm",className:"md:hidden p-2","data-testid":"button-mobile-menu",children:e.jsx(tr,{className:"h-5 w-5"})})}),e.jsx(Aa,{side:"left",className:"w-80 p-0 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full max-h-screen",children:[e.jsx(Ia,{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"h-4 w-4 text-primary-foreground"})}),e.jsx(Ta,{className:"text-left",children:"Kin2 Workforce"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(ft,{className:"w-12 h-12",children:[e.jsx(pt,{src:(r==null?void 0:r.profileImageUrl)||void 0,alt:"User Profile"}),e.jsxs(ht,{children:[((s=r==null?void 0:r.firstName)==null?void 0:s.charAt(0))||"U",((i=r==null?void 0:r.lastName)==null?void 0:i.charAt(0))||"S"]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-foreground truncate",children:[(r==null?void 0:r.firstName)||"User"," ",(r==null?void 0:r.lastName)||"Name"]}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:(r==null?void 0:r.role)||"Worker"})]})]})}),e.jsx("nav",{className:"p-4 space-y-1",children:ir.map(l=>{const d=n===l.href||l.href!=="/"&&n.startsWith(l.href);return e.jsx(B,{href:l.href,onClick:()=>a(!1),children:e.jsxs("div",{className:b("flex items-center justify-between px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer btn-touch nav-touch",d?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:bg-muted hover:text-foreground hover:shadow-md active:scale-95"),role:"button",tabIndex:0,"aria-label":`Navigate to ${l.name}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(l.icon,{className:"mr-3 h-4 w-4"}),l.name]}),l.badge&&e.jsx(z,{variant:"secondary",className:"text-xs",children:l.badge})]})},l.name)})})]}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("div",{className:"bg-gradient-to-br from-secondary to-primary p-4 rounded-lg text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"KarmaCoins"}),e.jsx(de,{className:"h-5 w-5"})]}),e.jsx("div",{className:"text-xl font-bold",children:((c=r==null?void 0:r.karmaCoins)==null?void 0:c.toLocaleString())||"0"}),e.jsx("div",{className:"text-xs opacity-75",children:"+127 this week"})]})})]})})]})}var Ge="Popover",[Ea]=ke(Ge,[le]),q=le(),[As,D]=Ea(Ge),Oa=t=>{const{__scopePopover:a,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:c=!1}=t,l=q(a),d=o.useRef(null),[h,p]=o.useState(!1),[u=!1,f]=ct({prop:r,defaultProp:s,onChange:i});return e.jsx(tt,{...l,children:e.jsx(As,{scope:a,contentId:ve(),triggerRef:d,open:u,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:h,onCustomAnchorAdd:o.useCallback(()=>p(!0),[]),onCustomAnchorRemove:o.useCallback(()=>p(!1),[]),modal:c,children:n})})};Oa.displayName=Ge;var La="PopoverAnchor",Is=o.forwardRef((t,a)=>{const{__scopePopover:n,...r}=t,s=D(La,n),i=q(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=s;return o.useEffect(()=>(c(),()=>l()),[c,l]),e.jsx(Se,{...i,...r,ref:a})});Is.displayName=La;var $a="PopoverTrigger",Fa=o.forwardRef((t,a)=>{const{__scopePopover:n,...r}=t,s=D($a,n),i=q(n),c=A(a,s.triggerRef),l=e.jsx(_.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ua(s.open),...r,ref:c,onClick:v(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:e.jsx(Se,{asChild:!0,...i,children:l})});Fa.displayName=$a;var Ke="PopoverPortal",[Ts,Es]=Ea(Ke,{forceMount:void 0}),Ga=t=>{const{__scopePopover:a,forceMount:n,children:r,container:s}=t,i=D(Ke,a);return e.jsx(Ts,{scope:a,forceMount:n,children:e.jsx($,{present:n||i.open,children:e.jsx(at,{asChild:!0,container:s,children:r})})})};Ga.displayName=Ke;var L="PopoverContent",Ka=o.forwardRef((t,a)=>{const n=Es(L,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=D(L,t.__scopePopover);return e.jsx($,{present:r||i.open,children:i.modal?e.jsx(Ls,{...s,ref:a}):e.jsx($s,{...s,ref:a})})});Ka.displayName=L;var Os=nt("PopoverContent.RemoveScroll"),Ls=o.forwardRef((t,a)=>{const n=D(L,t.__scopePopover),r=o.useRef(null),s=A(a,r),i=o.useRef(!1);return o.useEffect(()=>{const c=r.current;if(c)return wt(c)},[]),e.jsx(Nt,{as:Os,allowPinchZoom:!0,children:e.jsx(za,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(t.onCloseAutoFocus,c=>{var l;c.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:v(t.onPointerDownOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:v(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),$s=o.forwardRef((t,a)=>{const n=D(L,t.__scopePopover),r=o.useRef(!1),s=o.useRef(!1);return e.jsx(za,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,l;(c=t.onCloseAutoFocus)==null||c.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),za=o.forwardRef((t,a)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,...u}=t,f=D(L,n),m=q(n);return jt(),e.jsx(Ct,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:e.jsx(rt,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>f.onOpenChange(!1),children:e.jsx(st,{"data-state":Ua(f.open),role:"dialog",id:f.contentId,...m,...u,ref:a,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ba="PopoverClose",Fs=o.forwardRef((t,a)=>{const{__scopePopover:n,...r}=t,s=D(Ba,n);return e.jsx(_.button,{type:"button",...r,ref:a,onClick:v(t.onClick,()=>s.onOpenChange(!1))})});Fs.displayName=Ba;var Gs="PopoverArrow",Ks=o.forwardRef((t,a)=>{const{__scopePopover:n,...r}=t,s=q(n);return e.jsx(ot,{...s,...r,ref:a})});Ks.displayName=Gs;function Ua(t){return t?"open":"closed"}var zs=Oa,Bs=Fa,Us=Ga,Va=Ka;const Vs=zs,Hs=Bs,Ha=o.forwardRef(({className:t,align:a="center",sideOffset:n=4,...r},s)=>e.jsx(Us,{children:e.jsx(Va,{ref:s,align:a,sideOffset:n,className:b("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Ha.displayName=Va.displayName;function Ws(){const[t,a]=o.useState([{id:"1",title:"New Timesheet Submitted",message:"John Smith submitted timesheet for approval",type:"info",timestamp:"5 minutes ago",read:!1,actionUrl:"/timesheets"},{id:"2",title:"Payment Processed",message:"Monthly subscription payment of £29.99 processed successfully",type:"success",timestamp:"1 hour ago",read:!1},{id:"3",title:"Course Completion",message:"Sarah Wilson completed Health & Safety training",type:"success",timestamp:"2 hours ago",read:!0},{id:"4",title:"System Maintenance",message:"Scheduled maintenance will occur tomorrow at 2 AM GMT",type:"warning",timestamp:"1 day ago",read:!1}]);o.useEffect(()=>{const c=new WebSocket(`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`);return c.onmessage=l=>{try{const d=JSON.parse(l.data);d.type==="notification"&&a(h=>[{id:d.id||Date.now().toString(),title:d.title,message:d.message,type:d.notificationType||"info",timestamp:"just now",read:!1,actionUrl:d.actionUrl},...h.slice(0,19)])}catch{}},()=>c.close()},[]);const n=t.filter(c=>!c.read).length,r=c=>{a(l=>l.map(d=>d.id===c?{...d,read:!0}:d))},s=()=>{a(c=>c.map(l=>({...l,read:!0})))},i=c=>{switch(c){case"success":return"fas fa-check-circle text-green-500";case"warning":return"fas fa-exclamation-triangle text-yellow-500";case"error":return"fas fa-times-circle text-red-500";default:return"fas fa-info-circle text-blue-500"}};return e.jsxs(Vs,{children:[e.jsx(Hs,{asChild:!0,children:e.jsxs(S,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-muted/50 focus:ring-2 focus:ring-primary transition-all","data-testid":"button-notifications","aria-label":`Notifications (${n} unread)`,children:[e.jsx("i",{className:"fas fa-bell text-lg"}),n>0&&e.jsx(z,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-red-500 text-white","data-testid":"notification-badge",children:n>9?"9+":n})]})}),e.jsx(Ha,{className:"w-80 p-0",align:"end",children:e.jsxs(ne,{className:"border-0 shadow-none",children:[e.jsx(dt,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ut,{className:"text-sm font-medium",children:"Notifications"}),n>0&&e.jsx(S,{variant:"ghost",size:"sm",onClick:s,className:"text-xs","data-testid":"button-mark-all-read",children:"Mark all read"})]})}),e.jsx(re,{className:"p-0",children:e.jsx(_e,{className:"h-80",children:t.length===0?e.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[e.jsx("i",{className:"fas fa-bell-slash text-2xl mb-2"}),e.jsx("p",{children:"No notifications"})]}):e.jsx("div",{className:"space-y-0",children:t.map(c=>e.jsxs("div",{className:b("flex items-start space-x-3 p-4 border-b border-border last:border-b-0 cursor-pointer hover:bg-muted/50 transition-colors",!c.read&&"bg-primary/5"),onClick:()=>r(c.id),"data-testid":`notification-${c.id}`,children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("i",{className:i(c.type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:c.title}),!c.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.timestamp})]})]},c.id))})})})]})})]})}function qs(){const[t,a]=o.useState(!1),[n,r]=o.useState(""),[s,i]=o.useState(""),[,c]=Re();o.useEffect(()=>{const m=setTimeout(()=>{i(n)},300);return()=>clearTimeout(m)},[n]);const{data:l,isLoading:d}=hn({queryKey:["/api/search",{q:s}],enabled:s.trim().length>=2,staleTime:3e4}),h=(l==null?void 0:l.results)||[],p=n!==s||d,u=m=>{switch(m){case"job":return"fas fa-briefcase text-primary";case"worker":return"fas fa-user text-secondary";case"client":return"fas fa-building text-blue-500";case"timesheet":return"fas fa-clock text-accent";default:return"fas fa-search text-muted-foreground"}},f=m=>{switch(m){case"job":return{text:"Job",variant:"default"};case"worker":return{text:"Worker",variant:"secondary"};case"client":return{text:"Client",variant:"outline"};case"timesheet":return{text:"Timesheet",variant:"outline"};default:return{text:"Result",variant:"outline"}}};return o.useEffect(()=>{const m=g=>{(g.metaKey||g.ctrlKey)&&g.key==="k"&&(g.preventDefault(),a(!0))};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[]),e.jsxs(zn,{open:t,onOpenChange:a,children:[e.jsx(Bn,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"relative w-64 justify-start text-muted-foreground","data-testid":"button-global-search",children:[e.jsx("i",{className:"fas fa-search mr-2"}),"Search everything...",e.jsx(z,{variant:"outline",className:"ml-auto text-xs",children:"⌘K"})]})}),e.jsxs(Un,{className:"sm:max-w-[600px] p-0",children:[e.jsx(Vn,{className:"px-6 py-4 border-b",children:e.jsxs(Hn,{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("span",{children:"Search"})]})}),e.jsx("div",{className:"p-4",children:e.jsx(mt,{placeholder:"Search jobs, workers, clients, timesheets...",value:n,onChange:m=>r(m.target.value),className:"w-full",autoFocus:!0,"data-testid":"input-global-search"})}),e.jsx(_e,{className:"max-h-96",children:e.jsx("div",{className:"px-4 pb-4",children:p?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full"})}):h.length===0&&n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"fas fa-search text-4xl text-muted-foreground mb-3"}),e.jsxs("p",{className:"text-muted-foreground",children:['No results found for "',n,'"']}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try different keywords or check spelling"})]}):h.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"fas fa-keyboard text-4xl text-muted-foreground mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Start typing to search"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Search across jobs, workers, clients, and timesheets"})]}):e.jsx("div",{className:"space-y-2",children:h.map(m=>{const g=f(m.type);return e.jsx(ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors border-border/50",onClick:()=>{a(!1),c(m.url)},"data-testid":`search-result-${m.id}`,children:e.jsx(re,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("i",{className:u(m.type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-foreground truncate",children:m.title}),e.jsx(z,{variant:g.variant,className:"text-xs",children:g.text})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.subtitle})]})]})})},m.id)})})})})]})]})}function Xs({isMinimized:t=!1,onToggleMinimize:a}){const[n,r]=o.useState([{id:"1",type:"ai",content:"Hello! I'm your AI assistant for Kin2 Workforce. I can help you with job management, scheduling, worker assignments, and platform guidance. How can I assist you today?",timestamp:new Date}]),[s,i]=o.useState(""),[c,l]=o.useState(!1),d=o.useRef(null),{toast:h}=xn(),p=()=>{var m;(m=d.current)==null||m.scrollIntoView({behavior:"smooth"})};o.useEffect(()=>{p()},[n]);const u=async()=>{if(!s.trim()||c)return;const m={id:Date.now().toString(),type:"user",content:s,timestamp:new Date};r(g=>[...g,m]),i(""),l(!0);try{const g=await gn("POST","/api/ai/chat",{message:s}),j={id:(Date.now()+1).toString(),type:"ai",content:g.message||"Sorry, I could not process your request.",timestamp:new Date};r(R=>[...R,j])}catch{h({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"})}finally{l(!1)}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),u())};return t?e.jsx(ne,{className:"fixed bottom-4 right-4 w-80 h-16 z-50 cursor-pointer transition-all duration-200 hover:shadow-lg",children:e.jsxs(re,{className:"p-4 flex items-center justify-between",onClick:a,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-medium",children:"AI Assistant"})]}),e.jsx(er,{className:"w-4 h-4"})]})}):e.jsxs(ne,{className:"fixed bottom-4 right-4 w-96 h-[500px] z-50 flex flex-col shadow-xl",children:[e.jsx(dt,{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ut,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-primary"}),"AI Assistant"]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:a,"data-testid":"button-minimize-chat",children:e.jsx(ar,{className:"w-4 h-4"})})]})}),e.jsxs(re,{className:"flex-1 p-0 flex flex-col",children:[e.jsxs(_e,{className:"flex-1 p-4",children:[e.jsxs("div",{className:"space-y-4",children:[n.map(m=>e.jsxs("div",{className:`flex gap-3 ${m.type==="user"?"justify-end":"justify-start"}`,"data-testid":`message-${m.type}-${m.id}`,children:[m.type==="ai"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(ee,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${m.type==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:m.content}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:m.timestamp.toLocaleTimeString()}),m.type==="ai"&&m.suggestions&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:m.suggestions.slice(0,2).map((g,j)=>e.jsx("button",{onClick:()=>i(g),className:"text-xs px-2 py-1 bg-primary/10 hover:bg-primary/20 text-primary rounded-full transition-colors","data-testid":`suggestion-${j}`,children:g.length>30?g.substring(0,30)+"...":g},j))})]}),m.type==="user"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(Ze,{className:"w-4 h-4"})})]},m.id)),c&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(ee,{className:"w-4 h-4 text-primary"})}),e.jsx("div",{className:"bg-muted p-3 rounded-lg",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]}),e.jsx("div",{ref:d})]}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(mt,{value:s,onChange:m=>i(m.target.value),onKeyPress:f,placeholder:c?"AI is thinking...":"Ask me anything about workforce management...",disabled:c,"data-testid":"input-ai-message"}),e.jsx(S,{onClick:u,disabled:!s.trim()||c,size:"sm","data-testid":"button-send-message",children:e.jsx(Wn,{className:"w-4 h-4"})})]})})]})]})}function Ys({items:t}){return e.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-1 text-sm text-muted-foreground mt-1",children:[e.jsx(B,{href:"/",className:"hover:text-foreground transition-colors","data-testid":"breadcrumb-home",children:e.jsx(vn,{className:"w-4 h-4"})}),t.map((a,n)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pe,{className:"w-4 h-4"}),a.href?e.jsx(B,{href:a.href,className:"hover:text-foreground transition-colors","data-testid":`breadcrumb-${a.label.toLowerCase().replace(/\s+/g,"-")}`,children:a.label}):e.jsx("span",{className:"text-foreground font-medium","data-testid":`breadcrumb-current-${a.label.toLowerCase().replace(/\s+/g,"-")}`,children:a.label})]},n))]})}function Qs(){const{toggleTheme:t}=Fe();o.useEffect(()=>{const a=n=>{(n.ctrlKey||n.metaKey)&&n.shiftKey&&n.key==="T"&&(n.preventDefault(),t())};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[t])}function Zs(){Qs()}function Mo({children:t,title:a,breadcrumbs:n}){const[r,s]=o.useState(!0);return Zs(),e.jsxs("div",{className:"flex min-h-screen bg-background",role:"application","aria-label":"Kin2 Workforce Platform",children:[e.jsx(Ms,{}),e.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[e.jsx("header",{className:"border-b border-border bg-gradient-to-r from-background via-background to-background/95 backdrop-blur-sm sticky top-0 z-40 shadow-sm",role:"banner",children:e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ds,{}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-lg md:text-xl font-semibold bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent focus-ring animate-slideIn",tabIndex:0,"aria-level":1,children:a}),n&&e.jsx(Ys,{items:n})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",role:"toolbar","aria-label":"Navigation tools",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx(qs,{})}),e.jsx(_a,{"data-testid":"button-theme-toggle"}),e.jsx(Ws,{})]})]})}),e.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-auto mobile-scroll-container animate-fadeIn bg-gradient-to-br from-background to-background/95",role:"main","aria-live":"polite",children:t})]}),e.jsx(Xs,{isMinimized:r,onToggleMinimize:()=>s(!r)})]})}export{Mo as A,be as B,_t as C,Jn as L,Ne as M,Tt as P,Ce as S,_a as T,ee as a,je as b,Et as c,qn as d,Zn as e,er as f,Xn as g,Fe as u};
