import{c as E,r as S,u as H,o as K,i as V,l as y,j as e,d as o,aE as A,I as _,C as c,e as r,f as d,a as l,E as M,J as U,K as W,N as h,O as p,m as x,S as Z,X as T,Q as N,F as J,b as u,n as v,Z as X,aH as b,Y as w,M as I,a4 as F}from"./index-aBzEQGYq.js";import{S as L,a as P,b as $,c as Y,d as ee,e as se,f as te}from"./index-CDVofaHx.js";import{P as q}from"./plus-BIW1JAb4.js";import{G as ae}from"./globe-BzGLvnes.js";import{C as g}from"./circle-check-big-DoRqGQom.js";import{C}from"./clock-Dcf5yqqC.js";import{A as R}from"./activity-Bt7QQFFp.js";import{B as ne}from"./book-open-DvLQ89NB.js";import{F as ie}from"./file-text-DGolt20j.js";import{C as ce}from"./calendar-B5qd1N74.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=E("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=E("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]),le=[{id:"productivity",name:"Productivity",description:"Connect your essential productivity tools",icon:R,connections:[{id:"github",name:"GitHub",type:"github",status:"connected",description:"Sync repositories, issues, and pull requests for project management",icon:re,brandIcon:L,lastSync:"2 minutes ago",syncFrequency:"Real-time",permissions:["repo","issues","pull_requests"],usage:{apiCalls:1250,dataTransferred:45.2,lastActivity:"1 hour ago"},webhookUrl:"https://api.kin2workforce.com/webhooks/github"},{id:"notion",name:"Notion",type:"notion",status:"connected",description:"Import documents, databases, and knowledge bases",icon:ne,brandIcon:P,lastSync:"5 minutes ago",syncFrequency:"Every 15 minutes",permissions:["read_content","read_databases"],usage:{apiCalls:890,dataTransferred:12.8,lastActivity:"30 minutes ago"}},{id:"slack",name:"Slack",type:"slack",status:"disconnected",description:"Team communications and workforce notifications",icon:de,brandIcon:Y,permissions:["channels:read","chat:write","users:read"]},{id:"linear",name:"Linear",type:"linear",status:"error",description:"Project management and issue tracking integration",icon:X,brandIcon:$,lastSync:"2 hours ago",syncFrequency:"Every 30 minutes",permissions:["issues:read","projects:read"]}]},{id:"storage",name:"Cloud Storage",description:"Connect your cloud storage providers",icon:b,connections:[{id:"dropbox",name:"Dropbox",type:"dropbox",status:"connected",description:"File storage and document management",icon:b,brandIcon:ee,lastSync:"1 hour ago",syncFrequency:"Every hour",permissions:["files.content.read","files.content.write"],usage:{apiCalls:345,dataTransferred:234.5,lastActivity:"2 hours ago"}},{id:"onedrive",name:"OneDrive",type:"onedrive",status:"disconnected",description:"Microsoft cloud storage integration",icon:b,brandIcon:w,permissions:["Files.Read","Files.ReadWrite"]},{id:"sharepoint",name:"SharePoint",type:"sharepoint",status:"disconnected",description:"Enterprise document management and collaboration",icon:ie,brandIcon:w,permissions:["Sites.Read.All","Files.ReadWrite.All"]}]},{id:"communication",name:"Communication",description:"Email and calendar integrations",icon:I,connections:[{id:"outlook",name:"Outlook",type:"outlook",status:"connected",description:"Email and calendar synchronization",icon:I,brandIcon:w,lastSync:"10 minutes ago",syncFrequency:"Every 5 minutes",permissions:["Mail.Read","Calendars.Read"],usage:{apiCalls:567,dataTransferred:8.9,lastActivity:"15 minutes ago"}},{id:"google_workspace",name:"Google Workspace",type:"google",status:"pending",description:"Gmail, Calendar, and Drive integration",icon:ce,brandIcon:se,permissions:["https://www.googleapis.com/auth/gmail.readonly","https://www.googleapis.com/auth/calendar"]}]},{id:"entertainment",name:"Lifestyle",description:"Entertainment and lifestyle integrations",icon:F,connections:[{id:"spotify",name:"Spotify",type:"spotify",status:"connected",description:"Music streaming for workplace wellness",icon:F,brandIcon:te,lastSync:"30 minutes ago",syncFrequency:"Manual",permissions:["user-read-playback-state","user-modify-playback-state"],usage:{apiCalls:123,dataTransferred:2.1,lastActivity:"45 minutes ago"}}]}];function we(){const[oe,me]=S.useState("productivity"),[j,O]=S.useState(""),{toast:m}=H(),f=K(),{data:i=[],isLoading:xe}=V({queryKey:["/api/connections"],initialData:le}),G=y({mutationFn:async s=>(await v("POST",`/api/connections/${s}/connect`)).json(),onSuccess:(s,t)=>{f.invalidateQueries({queryKey:["/api/connections"]});const a=i.flatMap(n=>n.connections).find(n=>n.id===t);m({title:"Connection Successful",description:`${a==null?void 0:a.name} has been connected successfully.`})},onError:(s,t)=>{const a=i.flatMap(n=>n.connections).find(n=>n.id===t);m({title:"Connection Failed",description:`Failed to connect ${a==null?void 0:a.name}. Please try again.`,variant:"destructive"})}}),D=y({mutationFn:async s=>(await v("POST",`/api/connections/${s}/disconnect`)).json(),onSuccess:(s,t)=>{f.invalidateQueries({queryKey:["/api/connections"]});const a=i.flatMap(n=>n.connections).find(n=>n.id===t);m({title:"Disconnected",description:`${a==null?void 0:a.name} has been disconnected.`})},onError:()=>{m({title:"Disconnection Failed",description:"Could not disconnect service. Please try again.",variant:"destructive"})}}),z=y({mutationFn:async s=>(await v("POST",`/api/connections/${s}/sync`)).json(),onSuccess:(s,t)=>{f.invalidateQueries({queryKey:["/api/connections"]});const a=i.flatMap(n=>n.connections).find(n=>n.id===t);m({title:"Sync Started",description:`Syncing ${a==null?void 0:a.name} data...`})}}),B=s=>{switch(s){case"connected":return e.jsx(g,{className:"w-4 h-4 text-green-600"});case"error":return e.jsx(M,{className:"w-4 h-4 text-red-600"});case"pending":return e.jsx(C,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(T,{className:"w-4 h-4 text-gray-400"})}},k=s=>{const t={connected:{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},disconnected:{variant:"secondary",className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"},error:{variant:"destructive",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},pending:{variant:"outline",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}};return e.jsxs(u,{...t[s],children:[B(s),e.jsx("span",{className:"ml-1 capitalize",children:s})]})},Q=i.map(s=>({...s,connections:s.connections.filter(t=>t.name.toLowerCase().includes(j.toLowerCase())||t.description.toLowerCase().includes(j.toLowerCase()))})).filter(s=>s.connections.length>0);return e.jsxs("div",{className:"space-y-6","data-testid":"connections-management",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Connections Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect and manage external services and integrations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline","data-testid":"button-sync-all",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Sync All"]}),e.jsxs(o,{"data-testid":"button-add-connection",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsx(_,{placeholder:"Search connections...",value:j,onChange:s=>O(s.target.value),"data-testid":"input-search-connections"})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(c,{"data-testid":"stat-total-connections",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Connections"}),e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:i.flatMap(s=>s.connections).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available integrations"})]})]}),e.jsxs(c,{"data-testid":"stat-active-connections",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Active"}),e.jsx(g,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.flatMap(s=>s.connections).filter(s=>s.status==="connected").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently connected"})]})]}),e.jsxs(c,{"data-testid":"stat-pending-connections",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Pending"}),e.jsx(C,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.flatMap(s=>s.connections).filter(s=>s.status==="pending").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting setup"})]})]}),e.jsxs(c,{"data-testid":"stat-error-connections",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Issues"}),e.jsx(M,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.flatMap(s=>s.connections).filter(s=>s.status==="error").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]})]}),e.jsxs(U,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(W,{children:[e.jsx(h,{value:"overview","data-testid":"tab-overview",children:"Overview"}),e.jsx(h,{value:"connections","data-testid":"tab-connections",children:"All Connections"}),e.jsx(h,{value:"usage","data-testid":"tab-usage",children:"Usage Analytics"}),e.jsx(h,{value:"security","data-testid":"tab-security",children:"Security"})]}),e.jsxs(p,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(s=>{const t=s.connections.filter(n=>n.status==="connected").length,a=s.connections.length;return e.jsxs(c,{"data-testid":`category-${s.id}`,className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsxs(r,{className:"pb-2",children:[e.jsxs(d,{className:"flex items-center gap-2 text-sm",children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.name]}),e.jsx(x,{className:"text-xs",children:s.description})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Connected"}),e.jsxs("span",{className:"font-medium",children:[t,"/",a]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${a>0?t/a*100:0}%`}})})]})})]},s.id)})}),e.jsxs(c,{"data-testid":"recent-activity",children:[e.jsx(r,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"GitHub sync completed"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Synced 23 repositories and 45 issues"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"2 min ago"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Notion database updated"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"12 new pages imported from workspace"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"5 min ago"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx($,{className:"w-5 h-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Linear connection error"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"API key expired, reconnection required"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"1 hour ago"})]})]})})]})]}),e.jsx(p,{value:"connections",className:"space-y-6",children:Q.map(s=>e.jsxs(c,{"data-testid":`connections-category-${s.id}`,children:[e.jsxs(r,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(s.icon,{className:"w-5 h-5"}),s.name]}),e.jsx(x,{children:s.description})]}),e.jsx(l,{children:e.jsx("div",{className:"grid gap-4",children:s.connections.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.brandIcon,{className:"w-6 h-6"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:t.name}),k(t.status)]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),t.lastSync&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last sync: ",t.lastSync]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.status==="connected"&&e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>z.mutate(t.id),"data-testid":`button-sync-${t.id}`,children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx(o,{variant:"outline",size:"sm","data-testid":`button-settings-${t.id}`,children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx(o,{variant:"destructive",size:"sm",onClick:()=>D.mutate(t.id),"data-testid":`button-disconnect-${t.id}`,children:e.jsx(T,{className:"w-4 h-4"})})]}),t.status!=="connected"&&e.jsxs(o,{onClick:()=>G.mutate(t.id),"data-testid":`button-connect-${t.id}`,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Connect"]})]})]},t.id))})})]},s.id))}),e.jsx(p,{value:"usage",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:i.flatMap(s=>s.connections).filter(s=>s.status==="connected"&&s.usage).map(s=>{var t,a,n;return e.jsxs(c,{"data-testid":`usage-${s.id}`,children:[e.jsxs(r,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(s.brandIcon,{className:"w-5 h-5"}),s.name," Usage"]}),e.jsx(x,{children:"API usage and data transfer statistics"})]}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"API Calls"}),e.jsx("div",{className:"text-2xl font-bold",children:(t=s.usage)==null?void 0:t.apiCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Data Transferred"}),e.jsxs("div",{className:"text-2xl font-bold",children:[(a=s.usage)==null?void 0:a.dataTransferred," MB"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Last Activity"}),e.jsx("div",{className:"text-2xl font-bold",children:(n=s.usage)==null?void 0:n.lastActivity}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recent sync"})]})]})})]},s.id)})})}),e.jsxs(p,{value:"security",className:"space-y-6",children:[e.jsxs(c,{"data-testid":"security-overview",children:[e.jsxs(r,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Security Overview"]}),e.jsx(x,{children:"Monitor connection security and permissions"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"OAuth 2.0 Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All connections use secure OAuth"})]})]}),e.jsx(u,{variant:"default",children:"Enabled"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Token Encryption"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All tokens are encrypted at rest"})]})]}),e.jsx(u,{variant:"default",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Token Refresh"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatic token renewal"})]})]}),e.jsx(u,{variant:"outline",children:"Scheduled"})]})]})})]}),e.jsxs(c,{"data-testid":"connection-permissions",children:[e.jsxs(r,{children:[e.jsx(d,{children:"Connection Permissions"}),e.jsx(x,{children:"Review permissions granted to each service"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:i.flatMap(s=>s.connections).filter(s=>s.status==="connected"&&s.permissions).map(s=>{var t;return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(s.brandIcon,{className:"w-5 h-5"}),e.jsx("h4",{className:"font-medium",children:s.name}),k(s.status)]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:(t=s.permissions)==null?void 0:t.map((a,n)=>e.jsx(u,{variant:"outline",className:"text-xs",children:a},n))})]},s.id)})})})]})]})]})]})}export{we as default};
